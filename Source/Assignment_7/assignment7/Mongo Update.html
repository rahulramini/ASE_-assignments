<html ng-app="update">
<head>
    <meta charset="UTF-8">
    <title>RMongo update</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link href="css/agency.css" rel="stylesheet">
    <link rel="stylesheet" href="css/basestyle.css">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Style for Button -->
    <style>
        .button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
        }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="js/ngstorage.min.js"></script>
</head>
<body ng-controller="UpdateController" style="background-color: black">
<header>
    <h1>Welcome to Profile update Page</h1><br><br><br>
    <h2>Please update your Credentials</h2>
</header>
<form style="text-align: center" >
Existing Password: <input type="text" name="ExPassword" id="tvusername" ng-model="epasst"><br><br> &nbsp; &nbsp;
     New Password: &nbsp<input type="password" name="password" id="NPassword" ng-model="npass"><br><br>
Confirm Password: <input type="text" name="CPassword" id="Cpassword" ng-model="cpass"><br><br>
<input type="button" name="login" id="btlogin" value="Update Password" class="button" ng-click="UpdatePassword(first,last,user,pass)">
</form>
</body>
</html>

<script>
    var update = angular.module("register",[]);

    update.controller("UpdateController", function($scope,$http, $httpParamSerializerJQLike){

        $scope.UpdatePassword = function(first,last,email,phone,user,pass) {
            console.log("inside login function");
            $http({
                method: 'POST',
                url : 'https://api.mongolab.com/api/1/databases/assignment7/collections/myfirstcollection/?apiKey=DTVULw3NbvMColXgt3FsGoz7qeADhBJV',
                data: JSON.stringify({
                    FirstName: first,
                    LastName: last,
                    UserName: user,
                    password: pass
                }),
                contentType: "application/json"
            }).success(function() {
                $scope.first = "";
                $scope.last = "";
                $scope.user = "";
            })
        }

    });
</script>